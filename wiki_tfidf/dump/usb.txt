Universal Serial Bus (USB) is an industry standard developed in the mid-1990s that defines the cables, connectors and communications protocols used in a bus for connection, communication, and power supply between computers and electronic devices.

USB was designed to standardize the connection of computer peripherals (including keyboards, pointing devices, digital cameras, printers, portable media players, disk drives and network adapters) to personal computers, both to communicate and to supply electric power.  It has become commonplace on other devices, such as smartphones, PDAs and video game consoles. USB has effectively replaced a variety of earlier interfaces, such as serial and parallel ports, as well as separate power chargers for portable devices.

== Overview ==
In general, there are four basic kinds or sizes related to the USB connectors and types of established connections:
* the older "standard" size, in its USB 1.1/2.0 and USB 3.0 variants (for example, on USB flash drives)
* the "mini" size (primarily for the B connector end, such as on many cameras)
* the "micro" size, in its USB 1.1/2.0 and USB 3.0 variants (for example, on most modern cellphones)
* the versatile "USB On-The-Go" scheme, in both mini and micro sizes.

Unlike other data cables (Ethernet, HDMI etc.), each end of a USB cable uses a different kind of connector; an A-type or a B-type.  This kind of design was chosen in order to prevent electrical overloads and damaged equipment, as only the A-type socket provides power.  There are cables with A-type connectors on both ends, but they should be used carefully.  Therefore in general, each of the different "sizes" requires four different connectors; USB cables have the A-type and B-type connectors, and the corresponding sockets are on the computer or electronic device.  In common practice, the A-type connector is usually the full size, and the B-type side can vary as needed.

Counter-intuitively, the "micro" size is the most durable from the point of designed insertion lifetime, as the result of latching mechanism (parts providing gripping force) being moved into plugs on the cable side.

USB connections also come in four data transfer speeds: Low Speed, Full Speed, High Speed and SuperSpeed. High Speed is only supported by specifically designed USB 2.0 High Speed interfaces (that is, USB 2.0 controllers without the High Speed designation do not support it), as well as by USB 3.0 interfaces. SuperSpeed is supported only by USB 3.0 interfaces.

== History ==

A group of seven companies began the development of USB in 1994: Compaq, DEC, IBM, Intel, Microsoft, NEC, and Nortel. The goal was to make it fundamentally easier to connect external devices to PCs by replacing the multitude of connectors at the back of PCs, addressing the usability issues of existing interfaces, and simplifying software configuration of all devices connected to USB, as well as permitting greater data rates for external devices. A team including Ajay Bhatt worked on the standard at Intel; the first integrated circuits supporting USB were produced by Intel in 1995.

The original USB 1.0 specification, which was introduced in January 1996, defined data transfer rates of 1.5 Mbit/s "Low Speed" and 12 Mbit/s "Full Speed". The first widely used version of USB was 1.1, which was released in September 1998. The 12 Mbit/s data rate was intended for higher-speed devices such as disk drives, and the lower 1.5 Mbit/s rate for low data rate devices such as joysticks.

USB-Connector-Standard.jpg|thumb|A USB Standard Type A plug, the most common USB plug
The USB 2.0 specification was released in April 2000 and was ratified by the USB Implementers Forum (USB-IF) at the end of 2001. Hewlett-Packard, Intel, Lucent Technologies (now Alcatel-Lucent), NEC and Philips jointly led the initiative to develop a higher data transfer rate, with the resulting specification achieving 480 Mbit/s, a forty times increase over the original USB 1.1 specification.

The USB 3.0 specification was published on 12 November 2008. Its main goals were to increase the data transfer rate (up to 5 Gbit/s), decrease power consumption, increase power output, and be backwards-compatible with USB 2.0. 08-Sep-2012 USB 3.0 includes a new, higher speed bus called SuperSpeed in parallel with the USB 2.0 bus. For this reason, the new version is also called SuperSpeed. The first USB 3.0 equipped devices were presented in January 2010.

, approximately six billion USB ports and interfaces were in the global marketplace, and about 2 billion were being sold each year.

=== Version history ===
Computer-USB2-card.jpg|thumb|A PCI USB 2.0 card for a computer motherboard

==== Prereleases ====
The USB standard evolved through several versions before its official release in 1996: 
* USB 0.7: Released in November 1994.
* USB 0.8: Released in December 1994.
* USB 0.9: Released in April 1995.
* USB 0.99: Released in August 1995.
* USB 1.0 Release Candidate: Released in November 1995.

==== USB 1.x ====
Released in January 1996, USB 1 specified data rates of 1.5 Mbit/s (Low-Bandwidth) and 12 Mbit/s (Full-Bandwidth). It did not allow for extension cables or pass-through monitors (due to timing and power limitations). Few USB devices made it to market until USB 1.1, released in August 1998, which fixed problems identified in 1.0, mostly relating to hubs. 1.1 was the earliest revision that was widely adopted.
USB 1 is usually colored white, but some white USB ports are "USB 2 Compatible"

==== USB 2.0 ====

USB 2.0 was released in April 2000, adding higher maximum signaling rate of 480 Mbit/s (effective throughput up to 35 MB/s or 280 Mbit/s) (now called "Hi-Speed") in addition to "USB 1.x Full Speed" of 12 Mbit/s. USB 2.0 connectors are usually colored black.

Further modifications to the USB specification have been done via Engineering Change Notices (ECN). The most important of these ECNs are included into the USB 2.0 specification package available from USB.org:
* Mini-A and Mini-B Connector ECN: Released in October 2000.Specifications for Mini-A and B plug and receptacle. Also receptacle that accepts both plugs for On-The-Go. These should not be confused with Micro-B plug and receptacle.
* Errata as of December 2000: Released in December 2000
* Pull-up/Pull-down Resistors ECN: Released in May 2002
* Errata as of May 2002: Released in May 2002
* Interface Associations ECN: Released in May 2003.New standard descriptor was added that allows associating multiple interfaces with a single device function.
* Rounded Chamfer ECN: Released in October 2003.A recommended, compatible change to Mini-B plugs that results in longer lasting connectors.
* Unicode ECN: Released in February 2005.This ECN specifies that strings are encoded using UTF-16LE.  USB 2.0 specified Unicode, but did not specify the encoding.
* Inter-Chip USB Supplement: Released in March 2006
* On-The-Go Supplement 1.3: Released in December 2006.USB On-The-Go makes it possible for two USB devices to communicate with each other without requiring a separate USB host. In practice, one of the USB devices acts as a host for the other device.
* Battery Charging Specification 1.1: Released in March 2007 (Updated 15 Apr 2009).Adds support for dedicated chargers (power supplies with USB connectors), host chargers (USB hosts that can act as chargers) and the No Dead Battery provision, which allows devices to temporarily draw 100 mA current after they have been attached.  If a USB device is connected to dedicated charger, maximum current drawn by the device may be as high as 1.8 A. (Note that this document is not distributed with USB 2.0 specification package only USB 3.0 and USB On-The-Go.)
* Micro-USB Cables and Connectors Specification 1.01: Released in April 2007.
* Link Power Management Addendum ECN: Released in July 2007.This adds "sleep", a new power state between enabled and suspended states. Device in this state is not required to reduce its power consumption. However, switching between enabled and sleep states is much faster than switching between enabled and suspended states, which allows devices to sleep while idle.
* Battery Charging Specification 1.2: Released in December 2010.Several changes and increasing limits including allowing 1.5 A on charging ports for unconfigured devices, allowing High Speed communication while having a current up to 1.5 A and allowing a maximum current of 5 A.

==== USB 3.0 ====

USB 3.0 was released in November 2008. The standard defines a new SuperSpeed mode with a signalling speed of 5 Gbit/s and a usable data rate of up to 4 Gbit/s. A USB 3.0 port is usually colored blue, and is backwards compatible with USB 2.0.

The USB 3.0 Promoter Group announced on 17 November 2008 that the specification of version 3.0 had been completed and had made the transition to the USB Implementers Forum (USB-IF), the managing body of USB specifications. This move effectively opened the specification to hardware developers for implementation in products.

The new SuperSpeed bus provides a fourth transfer mode at 5.0 Gbit/s (raw data rate), in addition to the modes supported by earlier versions. The payload throughput is 4 Gbit/s (using 8b/10b encoding), and the specification considers it reasonable to achieve around 3.2 Gbit/s (0.4 GB/s or 400 MB/s), which should increase with future hardware advances. Communication is full-duplex in SuperSpeed transfer mode; in the modes supported previously, by 1.x and 2.0, communication is half-duplex, with direction controlled by the host.

As with previous USB versions, USB 3.0 ports come in low-power and high-power variants, providing 150 mA and 900 mA respectively while simultaneously transmitting data at SuperSpeed rates. Additionally, there is a Battery Charging Specification (Version 1.2 â€“ December 2010), which increases the power handling capability to 1.5 A but does not allow concurrent data transmission. The Battery Charging Specification requires that the physical ports themselves be capable of handling 5 A of current but the specification limits the maximum current drawn to 1.5 A.

==== USB 3.1 ====
A January 2013 press release from the USB group reveals plans to update USB 3.0 to 10 Gbit/s to put it on par with Thunderbolt by mid-2013.  A June 2013 DigiTimes article described this as "USB 3.5" and quoted ASMedia Technology president Chewei Lin as saying the chips were in development, with availability scheduled for 2014.

USB 3.1 was announced on 31 July 2013. The new specification introduces a faster transfer mode called "SuperSpeed USB 10 Gbps", its logo features a SUPERSPEED+ caption. It increases the signalling rate to 10 Gbit/s, double that of USB 3.0, and reduces line encoding overhead to just 3% by changing the scheme to 128b/132b. Developer sessions aimed at developers wishing to implement the new specification began on 21 August 2013.

The standard is backwards compatible with USB 3.0 and USB 2.0.  Utilizing five power profiles defined in the USB Power Delivery Specification, it will allow devices with larger energy demands to request higher currents and supply voltages from compliant hosts, up to 2 A at 5 V (for a power consumption of up to 10 W) and optionally up to 5 A at either 12 V (60 W) or 20 V (100 W).

== System design ==
The design architecture of USB is asymmetrical in its topology, consisting of a host, a multitude of downstream USB ports, and multiple peripheral devices connected in a tiered-star topology.  Additional USB hubs may be included in the tiers, allowing branching into a tree structure with up to five tier levels. A USB host may implement multiple host controllers and each host controller may provide one or more USB ports. Up to 127 devices, including hub devices if present, may be connected to a single host controller. 08-Sep-2012 USB devices are linked in series through hubs. One hubâ€”built into the host controllerâ€”is the root hub.

A physical USB device may consist of several logical sub-devices that are referred to as device functions.  A single device may provide several functions, for example, a webcam (video device function) with a built-in microphone (audio device function). This kind of device is called a composite device. An alternative for this is compound device in which each logical device is assigned a distinctive address by the host and all logical devices are connected to a built-in hub to which the physical USB wire is connected.

USB device communication is based on pipes (logical channels). A pipe is a connection from the host controller to a logical entity, found on a device, and named an endpoint. Because pipes correspond 1-to-1 to endpoints, the terms are sometimes used interchangeably. A USB device could have up to 32 endpoints (16 IN, 16 OUT), though it's rare to have so many. An endpoint is defined and numbered by the device during initialization (the period after physical connection called "enumeration") and so is relatively permanent, whereas a pipe may be opened and closed.

There are two types of pipes: stream and message pipes. A message pipe is bi-directional and is used for control transfers. Message pipes are typically used for short, simple commands to the device, and a status response, used, for example, by the bus control pipe number 0. A stream pipe is a uni-directional pipe connected to a uni-directional endpoint that transfers data using an isochronous, interrupt, or bulk transfer:
* isochronous transfers: at some guaranteed data rate (often, but not necessarily, as fast as possible) but with possible data loss (e.g., realtime audio or video).
* interrupt transfers: devices that need guaranteed quick responses (bounded latency) (e.g., pointing devices and keyboards).
* bulk transfers: large sporadic transfers using all remaining available bandwidth, but with no guarantees on bandwidth or latency (e.g., file transfers).

An endpoint of a pipe is addressable with a tuple (device_address, endpoint_number) as specified in a TOKEN packet that the host sends when it wants to start a data transfer session. If the direction of the data transfer is from the host to the endpoint, an OUT packet (a specialization of a TOKEN packet) having the desired device address and endpoint number is sent by the host. If the direction of the data transfer is from the device to the host, the host sends an IN packet instead. If the destination endpoint is a uni-directional endpoint whose manufacturer's designated direction does not match the TOKEN packet (e.g., the manufacturer's designated direction is IN while the TOKEN packet is an OUT packet), the TOKEN packet is ignored. Otherwise, it is accepted and the data transaction can start. A bi-directional endpoint, on the other hand, accepts both IN and OUT packets.

Endpoints are grouped into interfaces and each interface is associated with a single device function. An exception to this is endpoint zero, which is used for device configuration and is not associated with any interface. A single device function composed of independently controlled interfaces is called a composite device. A composite device only has a single device address because the host only assigns a device address to a function.

When a USB device is first connected to a USB host, the USB device enumeration process is started. The enumeration starts by sending a reset signal to the USB device.  The data rate of the USB device is determined during the reset signaling. After reset, the USB device's information is read by the host and the device is assigned a unique 7-bit address. If the device is supported by the host, the device drivers needed for communicating with the device are loaded and the device is set to a configured state. If the USB host is restarted, the enumeration process is repeated for all connected devices.

The host controller directs traffic flow to devices, so no USB device can transfer any data on the bus without an explicit request from the host controller. In USB 2.0, the host controller polls the bus for traffic, usually in a round-robin fashion. The throughput of each USB port is determined by the slower speed of either the USB port or the USB device connected to the port.

High-speed USB 2.0 hubs contain devices called transaction translators that convert between high-speed USB 2.0 buses and full and low speed buses. When a high-speed USB 2.0 hub is plugged into a high-speed USB host or hub, it operates in high-speed mode. The USB hub then uses either one transaction translator per hub to create a full/low-speed bus routed to all full and low speed devices on the hub, or uses one transaction translator per port to create an isolated full/low-speed bus per port on the hub.

Because there are two separate controllers in each USB 3.0 host, USB 3.0 devices transmit and receive at USB 3.0 data rates regardless of USB 2.0 or earlier devices connected to that host. Operating data rates for earlier devices are set in the legacy manner.

== Device classes ==
The functionality of USB devices is defined by class codes, communicated to the USB host to affect the loading of suitable software driver modules for each connected device. This provides for adaptability and device independence of the host to support new devices from different manufacturers.

Device classes include:

=== USB mass storage / USB drive ===
SanDisk Cruzer Micro.png|thumb|A flash drive, a typical USB mass-storage device

USB implements connections to storage devices using a set of standards called the USB mass storage device class (MSC or UMS). This was at first intended for traditional magnetic and optical drives, but has been extended to support a wide variety of devices, particularly flash drives, because many systems can be controlled with the familiar metaphor of file manipulation within directories.  The process of making a novel device look like a familiar device is also known as extension. The ability to boot a write-locked SD card with a USB adapter is particularly advantageous for maintaining the integrity and non-corruptible, pristine state of the booting medium.

Though most post-Summer 2004 computers are capable of booting from USB mass storage devices, USB is not intended as a primary bus for a computer's internal storage: buses such as Parallel ATA (PATA or IDE), Serial ATA (SATA), or SCSI fulfill that role in PC class computers. However, USB has one important advantage in that it is possible to install and remove devices without rebooting the computer (hot-swapping), making it useful for mobile peripherals, including drives of various kinds. Originally conceived and still used today for optical storage devices (CD-RW drives, DVD drives and so on), several manufacturers offer external portable USB hard disk drives, or empty enclosures for disk drives, which offer performance comparable to internal drives, limited by the current number and type of attached USB devices and by the upper limit of the USB interface (in practice about 30 MB/s for USB 2.0 and potentially 400 MB/s or more for USB 3.0). These external drives have typically included a "translating device" that bridges between a drive's interface to a USB interface port. Functionally, the drive appears to the user much like an internal drive. Other competing standards for external drive connectivity include eSATA, ExpressCard (now at version 2.0), FireWire (IEEE 1394), and most recently Thunderbolt.

Another use for USB mass storage devices is the portable execution of software applications (such as web browsers and VoIP clients) with no need to install them on the host computer.

=== Media Transfer Protocol ===
Media Transfer Protocol (MTP) was designed by Microsoft to give higher-level access to a device's filesystem than USB mass storage, at the level of files rather than disk blocks. It also has optional DRM features. MTP was designed for use with portable media players, but it has since been adopted as the primary storage access protocol of the Android operating system from the version 4.1 Jelly Bean as well as Windows Phone 8 (Windows Phone 7 devices had used the Zune protocol was an evolution of MTP). The primary reason for this is that MTP does not require exclusive access to the storage device the way UMS does, alleviating potential problems should an Android program request the storage while it is attached to a computer. The main drawback is that MTP is not as well supported outside of Windows operating systems.

=== Human interface devices ===

Joysticks, keypads, tablets and other human-interface devices (HIDs) are also progressively migrating from MIDI, and PC game port connectors to USB.

USB mice and keyboards can usually be used with older computers that have PS/2 connectors with the aid of a small USB-to-PS/2 adapter. For mice and keyboards with dual-protocol support, an adaptor that contains no logic circuitry may be used: the hardware in the USB keyboard or mouse is designed to detect whether it is connected to a USB or PS/2 port, and communicate using the appropriate protocol. Converters also exist that connect PS/2 keyboards and mice (usually one of each) to a USB port. These devices present two HID endpoints to the system and use a microcontroller to perform bidirectional data translation between the two standards.

== Connectors and plugs ==

=== Connectors properties ===

The connectors specified by the USB committee were designed to support a number of USB's underlying goals, and to reflect lessons learned from the menagerie of connectors which have been used in the computer industry. The connector mounted on the host or device is called the receptacle, and the connector attached to the cable is called the plug. The standard purposely defines this to prevent the use of extension cables.  The official USB specification documents also periodically define the term male to represent the plug, and female to represent the receptacle.

==== Usability and "upside-down" connectors ====

By design, it is difficult to insert a USB plug into its receptacle incorrectly.  The USB specification states that the required USB icon must be embossed on the "topside" of the USB plug, which "...provides easy user recognition and facilitates alignment during the mating process." The specification also shows that the "recommended" "Manufacturer's logo" ("engraved" on the diagram but not specified in the text) is on the opposite side of the USB icon.  The specification further states, "The USB Icon is also located adjacent to each receptacle. Receptacles should be oriented to allow the icon on the plug to be visible during the mating process." However, the specification does not consider the height of the device compared to the eye level height of the user, so the side of the cable that is "visible" when mated to a computer on a desk can depend on whether the user is standing or kneeling.

While it would have been better for usability if the cable could be plugged in with either side up, this was not done in the original design in order to make manufacturing as cheap as possible.  Ajay Bhatt, who was involved in the original USB design team, is working on a new design to make the cable insertable either side up.  The new reversible plug will be also much smaller than the current USB 3.0 Micro-B connector.  It will be called type C, and it should be introduced as an addition to the existing USB 3.1 specification.

Only moderate force is needed to insert or remove a USB cable. USB cables and small USB devices are held in place by the gripping force from the receptacle (without need of the screws, clips, or thumb-turns other connectors have required).

The standard connectors were deliberately intended to enforce the directed topology of a USB network: type A connectors on host devices that supply power and type B connectors on target devices that receive power.  This prevents users from accidentally connecting two USB power supplies to each other, which could lead to dangerously high currents, circuit failures, or even fire. USB does not support cyclic networks and the standard connectors from incompatible USB devices are themselves incompatible.

==== Durability ====
The standard connectors were designed to be robust. Because USB is hot-pluggable, the connectors would be used more frequently, and perhaps with less care, than other connectors. Many previous connector designs were fragile, specifying embedded component pins or other delicate parts that were vulnerable to bending or breaking. The electrical contacts in a USB connector are protected by an adjacent plastic tongue, and the entire connecting assembly is usually protected by an enclosing metal sheath.

The connector construction always ensures that the external sheath on the plug makes contact with its counterpart in the receptacle before any of the four connectors within make electrical contact. The external metallic sheath is typically connected to system ground, thus dissipating damaging static charges. This enclosure design also provides a degree of protection from electromagnetic interference to the USB signal while it travels through the mated connector pair (the only location when the otherwise twisted data pair travels in parallel). In addition, because of the required sizes of the power and common connections, they are made after the system ground but before the data connections. This type of staged make-break timing allows for electrically safe hot-swapping.

The newer Micro-USB receptacles are designed for up to 10,000 cycles of insertion and removal between the receptacle and plug, compared to 1,500 for the standard USB and 5,000 for the Mini-USB receptacle. This is accomplished by adding a locking device and by moving the leaf-spring connector from the jack to the plug, so that the most-stressed part is on the cable side of the connection. This change was made so that the connector on the less expensive cable would bear the most wear instead of the more expensive micro-USB device.

==== Compatibility ====
The USB standard specifies relatively loose tolerances for compliant USB connectors to minimize physical incompatibilities in connectors from different vendors. To address a weakness present in some other connector standards, the USB specification also defines limits to the size of a connecting device in the area around its plug. This was done to prevent a device from blocking adjacent ports due to the size of the cable strain relief mechanism (usually molding integral with the cable outer insulation) at the connector. Compliant devices must either fit within the size restrictions or support a compliant extension cable that does.

In general, cables have only plugs, and hosts and devices have only receptacles. Hosts almost universally have type-A receptacles, and devices one or another type-B variety. Type-A plugs mate only with type-A receptacles, and type-B with type-B; they are deliberately physically incompatible. However, an extension to USB standard specification called USB On-The-Go allows a single port to act as either a host or a deviceâ€”chosen by which end of the cable plugs into the receptacle on the unit. Even after the cable is hooked up and the units are communicating, the two units may "swap" ends under program control. This capability is meant for units such as PDAs in which the USB link might connect to a PC's host port as a device in one instance, yet connect as a host itself to a keyboard and mouse device in another instance.

===== USB 3.0 connectors =====

Type A plugs and receptacles from both USB 3.0 and USB 2.0 are designed to interoperate.

Type B receptacles in USB 3.0 are somewhat larger than would be required for a Type B plug in USB 2.0 and earlier. The larger dimension for a USB 3.0 Type B receptacle is intended to allow connecting of either the larger USB 3.0 Type B plug or the smaller USB 2.0 or earlier Type B plug into a newer USB 3.0 Type B receptacle. Accordingly, a USB 3.0 Type B receptacle on a peripheral device can be connected using the corresponding plug end of a USB 2.0 Type B cable.

Type B plugs in USB 3.0 are somewhat larger; therefore, a USB 3.0 Type B plug cannot enter a USB 2.0 or earlier Type B receptacle. Accordingly, normal USB 3.0 Type B plugs cannot be inserted into normal USB 2.0 Type B receptacles found on peripheral devices (and connect them to a computer).

A receptacle for eSATAp (eSATA/USB Combo) is designed to accept USB Type A plugs from USB 2.0 and USB 3.0.

=== Connectors types ===

There are several types of USB connectors, including some that have been added while the specification progressed. The original USB specification detailed Standard-A and Standard-B plugs and receptacles; the B connector was necessary so that cabling could be plug ended at both ends and still prevent users from connecting one computer receptacle to another. The first engineering change notice to the USB 2.0 specification added Mini-B plugs and receptacles.

The data connectors in the Standard-A plug are actually recessed in the plug as compared to the outside power connectors. This permits the power to connect first, which prevents data errors by allowing the device to power up first and then transfer the data. Some devices operate in different modes depending on whether the data connection is made. This difference in connection can be exploited by inserting the connector only partially. For example, some battery-powered MP3 players switch into file transfer mode and cannot play MP3 files while a USB plug is fully inserted, but can be operated in MP3 playback mode using USB power by inserting the plug only part way so that the power slots make contact while the data slots do not. This enables those devices to be operated in MP3 playback mode while getting power from the cable.

To reliably enable a charge-only feature, modern USB accessory peripherals now include charging cables that provide power connections to the host port but no data connections, and both home and vehicle charging docks are available that supply power from a converter device and do not include a host device and data pins, allowing any capable USB device to charge or operate from a standard USB cable.

==== Standard connectors ====

The USB 2.0 Standard-A type of USB plug is a flattened rectangle that inserts into a "downstream-port" receptacle on the USB host, or a hub, and carries both power and data. This plug is frequently seen on cables that are permanently attached to a device, such as one connecting a keyboard or mouse to the computer via USB connection.

USB connections eventually wear out as the connection loosens through repeated plugging and unplugging. The lifetime of a USB-A male connector is approximately 1,500 connect/disconnect cycles.

A Standard-B plugâ€”which has a square shape with bevelled exterior cornersâ€”typically plugs into an "upstream receptacle" on a device that uses a removable cable, e.g. a printer. On some devices, the Type B receptacle has no data connections, being used solely for accepting power from the upstream device. This two-connector-type scheme (A/B) prevents a user from accidentally creating an electrical loop.

==== Mini and Micro connectors ====

Various connectors have been used for smaller devices such as digital cameras, smartphones, and tablet computers. These include the now-deprecated (i.e. de-certified but standardized) Mini-A and Mini-AB connectors (Mini-B connectors are still supported but not OTG (On The Go, i.e. mobile) compliant). The Mini-B USB connector was standard for transferring data to and from the early data phones and PDAs, such as Blackberrys.

The Mini-A and Mini-B plugs are approximately 3 by 7 mm. The micro-USB plugs have a similar width and approximately half the thickness, enabling their integration into thinner portable devices. The micro-A connector is 6.85 by 1.8 mm with a maximum overmold size of 11.7 by 8.5 mm. The micro-B connector is 6.85 by 1.8 mm with a maximum overmold size of 10.6 by 8.5 mm.

The Micro-USB connector was announced by the USB-IF on 4 January 2007. The Mini-A connector and the Mini-AB receptacle connector were deprecated on 23 May 2007. While many currently available devices and cables still use Mini plugs, the newer Micro connectors are being widely adopted and as of December 2010, they are the most widely used. The thinner micro connectors are intended to replace the Mini plugs in new devices including smartphones, personal digital assistants, and cameras. The Micro plug design is rated for at least 10,000 connect-disconnect cyclesâ€”significantly more than the Mini plug design.  It is also designed to reduce the mechanical wear on the device; instead the easier-to-replace cable is designed to bear the mechanical wear of connection and disconnection. The Universal Serial Bus Micro-USB Cables and Connectors Specification details the mechanical characteristics of Micro-A plugs, Micro-AB receptacles (which accept both Micro-A and Micro-B plugs), and Micro-B plugs and receptacles, along with a Standard-A receptacle to Micro-A plug adapter.

The cellular phone carrier group, Open Mobile Terminal Platform (OMTP) in 2007 endorsed Micro-USB as the standard connector for data and power on mobile devices  In addition, on 22 October 2009 the International Telecommunication Union (ITU) has also announced that it had embraced micro-USB as the Universal Charging Solution its "energy-efficient one-charger-fits-all new mobile phone solution", and added: "Based on the Micro-USB interface, UCS chargers also include a 4-star or higher efficiency ratingâ€”up to three times more energy-efficient than an unrated charger."

The European Standardisation Bodies CEN, CENELEC and ETSI (independent of the OMTP/GSMA proposal) defined a common External Power Supply (EPS) for use with smartphones sold in the EU based on micro-USB.  14 of the world's largest mobile phone manufacturers signed the EU's common EPS Memorandum of Understanding (MoU).  Apple Inc., one of the original MoU signers, make micro-USB adapters available â€“ as permitted in the Common EPS MoU â€“ for its iPhones equipped with Apple's proprietary 30 pin dock connector or (later) "Lightning" connector.

====USB On-The-Go connectors====
A USB On-The-Go device is required to have one, and only one USB connector: a Micro-AB receptacle. This receptacle is capable of accepting both Micro-A and Micro-B plugs, attached to any of the legal cables and adapters as defined in Micro-USB1.01.

The OTG device with the A-plug inserted is called the A-device and is responsible for powering the USB interface when required and by default assumes the role of host. The OTG device with the B-plug inserted is called the B-device and by default assumes the role of peripheral. An OTG device with no plug inserted defaults to acting as a B-device. If an application on the B-device requires the role of host, then the Host Negotiation Protocol (HNP) is used to temporarily transfer the host role to the B-device.

OTG devices attached either to a peripheral-only B-device or a standard/embedded host have their role fixed by the cable, since in these scenarios it is only possible to attach the cable one way.

==== Host and Device interface receptacles ====
The following receptacles accept the following plugs (note that all pin numbers as shown are as per plug; for receptacles numbers as shown are looking from the back out the front; a more typical manufacturer's "top" view into the receptacle would show the pin numbers as mirrored):

==== Cable plugs (USB 1.x/2.0) ====
Cables exist with pairs of plugs:

;Non-standard: 
Existing for specific proprietary purposes, and in most cases not inter-operable with USB-IF compliant equipment.
However, there do exist compliant A-to-A cables with a circuit in the middle that behaves as a pair of devices, such as the Easy Transfer Cable.

In addition to the above cable assemblies comprising two plugs, an "adapter" cable with a Micro-A plug and a Standard-A receptacle is compliant with USB specifications. Other combinations of connectors are not compliant. However, some older devices and cables with Mini-A connectors have been certified by USB-IF. The Mini-A connector is obsolescent: no new Mini-A connector connectors will be certified.

==== Cable plugs (USB 3.0) ====

USB 3.0 introduced a new Micro-B cable plug, see photo on the right.  It consists of a standard USB 1.x/2.0 Micro-B cable plug, with additional 5-pin plug "stacked" on side of it.  That way, USB 3.0 Micro-A host connector preserved its backwards compatibility with the USB 1.x/2.0 Micro-B cable plugs.

=== Pinouts ===

USB is a serial bus, using four shielded wires for the USB 2.0 variant: two for power (VBUS and GND), and two for differential data signals (labelled as D+ and D- in pinouts).  Non-Return-to-Zero Inverted (NRZI) encoding scheme is used for transferring data, with a sync field to synchronise the host and receiver clocks.  D+ and D- signals are transmitted on a twisted pair, providing half-duplex data transfers for USB 2.0.

There are additional wires present in the USB 3.0 variant, consisting of two twisted pairs and providing various improvements, including full-duplex data transfers at increased speed.

USB 3.0 Micro B plug.PNG|thumb|Micro-B USB 3.0 plug

Power (VBUS)
USB 2.0 differential pair (Dâˆ’)
USB 2.0 differential pair (D+)
USB OTG ID for identifying lines
GND
USB 3.0 signal transmission line (âˆ’)
USB 3.0 signal transmission line (+)
GND
USB 3.0 signal receiving line (âˆ’)
USB 3.0 signal receiving line (+)

==== Proprietary connectors and formats ====
Manufacturers of personal electronic devices might not include a USB standard connector on their product for technical or marketing reasons. Some manufacturers provide proprietary cables that permit their devices to physically connect to a USB standard port. Full functionality of proprietary ports and cables with USB standard ports is not assured; for example, some devices only use the USB connection for battery charging and do not implement any data transfer functions.

Image:Htc extmicrousb port and mhl-hdmi plug.png|HTC ExtMicro USB port and connector
Image:Popport.jpg|Nokia Pop-Port connector

=== Colors ===
Ports and connectors are often color coded to distinguish different specifications.  These colors are not part of the USB specification and can vary between manufacturers.

== Cabling ==

The data cables for USB 1.x and USB 2.x use a twisted pair to reduce noise and crosstalk. USB 3.0 cables contain twice as many wires as USB 2.x to support SuperSpeed data transmission, and are thus larger in diameter.

The USB 1.1 Standard specifies that a standard cable can have a maximum length of  with devices operating at Low Speed (1.5 Mbit/s), and a maximum length of  with devices operating at Full Speed 12 Mbit/s.

USB 2.0 provides for a maximum cable length of 5 meters for devices running at Hi Speed (480 Mbit/s). The primary reason for this limit is the maximum allowed round-trip delay of about 1.5 Î¼s. If USB host commands are unanswered by the USB device within the allowed time, the host considers the command lost. When adding USB device response time, delays from the maximum number of hubs added to the delays from connecting cables, the maximum acceptable delay per cable amounts to 26 ns. The USB 2.0 specification requires that cable delay be less than 5.2 ns per meter  which is close to the maximum achievable transmission speed for standard copper wire).

The USB 3.0 standard does not directly specify a maximum cable length, requiring only that all cables meet an electrical specification: for copper cabling with AWG 26 wires the maximum practical length is .

== Power ==

USB fans 1.jpg|thumb|right|USB-powered mini fans
The USB 1.x and 2.0 specifications provide a 5 V supply on a single wire to power connected USB devices. The specification provides for no more than 5.25 V and no less than 4.75 V (5 VÂ±5%) between the positive and negative bus power lines. For USB 3.0, the voltage supplied by low-powered hub ports is 4.45â€“5.25 V.

A unit load is defined as 100 mA in USB 2.0, and 150 mA in USB 3.0. A device may draw a maximum of 5 unit loads (500 mA) from a port in USB 2.0; 6 (900 mA) in USB 3.0. There are two types of devices: low-power and high-power.  A low-power device draws at most 1 unit load, with minimum operating voltage of 4.4 V in USB 2.0, and 4 V in USB 3.0. A high-power device draws, at most, the maximum number of unit loads the standard permits. Every device functions initially as low-powerâ€”but may request high-power, and gets it if it's available on the providing bus.

Some devices, such as high-speed external disk drives, require more than 500 mA of current and therefore may have power issues if powered from just one USB 2.0 port: erratic function, failure to function, or overloading/damaging the port.
Such devices may come with an external power source or a Y-shaped cable that has two USB connectors (one for power+data, the other for power only) to plug into a computer. With such a cable, a device can draw power from two USB ports simultaneously.

A bus-powered hub initializes itself at 1 unit load and transitions to maximum unit loads after it completes hub configuration. Any device connected to the hub draws 1 unit load regardless of the current draw of devices connected to other ports of the hub (i.e., one device connected on a four-port hub draws only 1 unit load despite the fact that more unit loads are being supplied to the hub).

A self-powered hub supplies maximum supported unit loads to any device connected to it.  In addition, the VBUS presents 1 unit load upstream for communication if parts of the Hub are powered down.

=== Charging ports and accessory charging adapters ===

The USB Battery Charging Specification of 2007 defines new types of USB ports, charging ports. As compared to standard downstream ports, where a portable device can only draw more than 100 mA current after digital negotiation with the host or hub, charging ports can supply currents above 500 mA without digital negotiation. A charging port supplies up to 500 mA at 5 V, up to the rated current at 3.6 V or more, and drop its output voltage if the portable device attempts to draw more than the rated current. The charger port may shut down if the load is too high.

Two types of charging ports exist: charging downstream ports (CDP), supporting data transfers as well, and dedicated charging ports (DCP), without data support. A portable device can recognize the type of USB port from the way the D+ and Dâˆ’ pins are connected. For example, on a dedicated charging port, the D+ and Dâˆ’ pins are shorted. With charging downstream ports, current passing through the thin ground wire may interfere with high-speed data signals. Therefore, current draw may not exceed 900 mA during high-speed data transfer. A dedicated charge port may have a rated current between 500 and 1,500 mA. For all charging ports, there is maximum current of 5 A, as long as the connector can handle the current (standard USB 2.0 A-connectors are rated at 1.5 A).

Before the battery charging specification was defined, there was no standardized way for the portable device to inquire how much current was available. For example, Apple's iPod and iPhone chargers indicate the available current by voltages on the Dâˆ’ and D+ lines. When D+ = Dâˆ’ = 2.0 V, the device may pull up to 500 mA.  When D+ = 2.0 V and Dâˆ’ = 2.8 V, the device may pull up to 1 A of current.  When D+ = 2.8 V and Dâˆ’ = 2.0 V, the device may pull up to 2 A of current.

Dedicated charging ports can be found on USB power adapters that convert utility power or another power source (e.g., a car's electrical system) to run attached devices and battery packs. On a host (such as a laptop computer) with both standard and charging USB ports, the charging ports should be labeled as such.

To support simultaneous charge and sync, even if the communication port doesn't support charging a demanding device, so called accessory charging adapters are introduced, where a charging port and a communication port can be combined into a single port.

The Battery Charging Specification 1.2 of 2010 makes clear, that there are safety limits to the rated current at 5 A coming from USB 2.0. On the other hand, several changes are made and limits are increasing including allowing 1.5 A on charging downstream ports for unconfigured devices, allowing high speed communication while having a current up to 1.5 A and allowing a maximum current of 5 A.

=== Sleep-and-charge ports ===

Sleep-and-charge USB ports can be used to charge electronic devices even when the computer is switched off. Normally, when a computer is powered off, the USB ports are powered down. This prevents phones and other devices from being able to charge unless the computer is powered on. Sleep-and-charge USB ports remain powered even when the computer is off. On laptops, charging devices from the USB port when it is not being powered from AC drains the laptop battery faster. Desktop machines need to remain plugged into AC power for Sleep-and-charge to work.

These ports are found colored differently (mostly red and yellow). On Dell laptops, the port is marked with the standard USB symbol with an added lightning bolt icon on the right side. Dell calls this feature "PowerShare."

=== Mobile device charger standards ===

====In China====

, all new mobile phones applying for a license in China are required to use a USB port as a power port for battery charging. This was the first standard to use the convention of shorting D+ and D-.

====OMTP/GSMA Universal Charging Solution====
In September 2007, the Open Mobile Terminal Platform group (a forum of mobile network operators and manufacturers such as Nokia, Samsung, Motorola, Sony Ericsson and LG) announced that its members had agreed on micro-USB as the future common connector for mobile devices.

The GSM Association (GSMA) followed suit on 17 February 2009, and on 22 April 2009, this was further endorsed by the CTIA â€“ The Wireless Association, with the International Telecommunication Union (ITU) announcing on 22 October 2009 that it had also embraced the Universal Charging Solution as its "energy-efficient one-charger-fits-all new mobile phone solution", and added: "Based on the Micro-USB interface, UCS chargers will also include a 4-star or higher efficiency ratingâ€”up to three times more energy-efficient than an unrated charger."

====EU Smartphone Power Supply Standard====

<!-- The below line was the original title, but was shortened to fix
menu formatting problems. ~~~~Doug Bashford, Aug 2013-->
â€”EU Common External Power Supply standard for mobile smartphonesâ€”

In June 2009, many of the world's largest mobile phone manufacturers signed an EC-sponsored Memorandum of Understanding (MoU), agreeing to make most data-enabled mobile phones marketed in the European Union compatible with a common External Power Supply (EPS).  The EU's common EPS specification (EN 62684:2010) references the USB Battery Charging standard and is similar to the GSMA/OMTP and Chinese charging solutions.  In January 2011, the International Electrotechnical Commission (IEC) released its version of the (EU's) common EPS standard as IEC 62684:2011.

=== Non-standard devices ===

Some USB devices require more power than is permitted by the specifications for a single port. This is common for external hard and optical disc drives, and generally for devices with motors or lamps. Such devices can use an external power supply, which is allowed by the standard, or use a dual-input USB cable, one input of which is used for power and data transfer, the other solely for power, which makes the device a non-standard USB device. Some USB ports and external hubs can, in practice, supply more power to USB devices than required by the specification but a standard-compliant device may not depend on this.

In addition to limiting the total average power used by the device, the USB specification limits the inrush current (i.e., that used to charge decoupling and filter capacitors) when the device is first connected. Otherwise, connecting a device could cause problems with the host's internal power. USB devices are also required to automatically enter ultra low-power suspend mode when the USB host is suspended. Nevertheless, many USB host interfaces do not cut off the power supply to USB devices when they are suspended.

Some non-standard USB devices use the 5 V power supply without participating in a proper USB network, which negotiates power draw with the host interface. These are usually called USB decorations. Examples include USB-powered keyboard lights, fans, mug coolers and heaters, battery chargers, miniature vacuum cleaners, and even miniature lava lamps. In most cases, these items contain no digital circuitry, and thus are not standard compliant USB devices. This may cause problems with some computers, such as drawing too much current and damaging circuitry. Prior to the Battery Charging Specification, the USB specification required that devices connect in a low-power mode (100 mA maximum) and communicate their current requirements to the host, which then permits the device to switch into high-power mode.

Some devices, when plugged into charging ports, draw even more power (10 watts or 2.1 Amps) than the Battery Charging Specification allows. The iPad and MiFi 2200 are two such devices.
Barnes & Noble NOOK devices also require a special charger that runs at 1.9 Amps.

=== USB Power Delivery specification ===
In July 2012 the USB Promoters Group announced the finalization of the USB Power Delivery ("PD") specification, an extension that specifies using certified "PD aware" USB cables with standard USB type A/B connectors to deliver up to 100 W of power at 20 V. For PD-aware cables with USB-micro B/AB connectors the maximum power supported is up to 60 W at 20 V, 36 W at 12 V and 10 W at 5 V.  In all cases, either host-to-device or device-to-host configurations are supported.

The intent is to permit uniformly charging laptops, tablets, USB-powered disks and similarly higher power consumer electronics, as a natural extension of existing European and Chinese mobile telephone charging standards.  This may also affect the way electric power used for small devices is transmitted and used in both residential and public buildings.

=== PoweredUSB ===

PoweredUSB is a proprietary extension that adds four additional pins supplying up to 6 A at either 5 V, 12 V, or 24 V. It is commonly used in point of sale systems to power peripherals such as barcode readers, credit card terminals, and printers.

==Signaling==
USB allows the following signaling rates (the terms speed and bandwidth are used interchangeably, while "high-" is alternatively written as "hi-"):

* A low-speed (USB 1.0) rate of 1.5 Mbit/s is defined by USB 1.0. It is very similar to full-bandwidth operation except each bit takes 8 times as long to transmit. It is intended primarily to save cost in low-bandwidth human interface devices (HID) such as keyboards, mice, and joysticks.
* The full-speed (USB 1.1) rate of 12 Mbit/s is the basic USB data rate defined by USB 1.0. All USB hubs can operate at this speed.
* A high-speed (USB 2.0) rate of 480 Mbit/s was introduced in 2001. All hi-speed devices are capable of falling back to full-bandwidth operation if necessary; i.e., they are backward compatible with USB 1.1. Connectors are identical for USB 2.0 and USB 1.x.
* A SuperSpeed (USB 3.0) rate of 5.0 Gbit/s. The written USB 3.0 specification was released by Intel and its partners in August 2008. The first USB 3.0 controller chips were sampled by NEC in May 2009, and the first products using the USB 3.0 specification arrived in January 2010. USB 3.0 connectors are generally backwards compatible, but include new wiring and full duplex operation.

USB signals are transmitted on a twisted-pair data cable with 90Î© Â±15% characteristic impedance, labeled D+ and Dâˆ’. Prior to USB 3.0, these collectively use half-duplex differential signaling to reduce the effects of electromagnetic noise on longer lines. Transmitted signal levels are 0.0 to 0.3 volts for low and 2.8 to 3.6 volts for high in full-bandwidth and low-bandwidth modes, and âˆ’10 to 10 mV for low and 360 to 440 mV for high in hi-bandwidth mode. In FS mode, the cable wires are not terminated, but the HS mode has termination of 45 Î© to ground, or 90 Î© differential to match the data cable impedance, reducing interference due to signal reflections. USB 3.0 introduces two additional pairs of shielded twisted wire and new, mostly interoperable contacts in USB 3.0 cables, for them. They permit the higher data rate, and full duplex operation.

A USB connection is always between a host or hub at the "A" connector end, and a device or hub's "upstream" port at the other end. Originally, this was a "B" connector, preventing erroneous loop connections, but additional upstream connectors were specified, and some cable vendors designed and sold cables that permitted erroneous connections (and potential damage to circuitry). USB interconnections are not as fool-proof or as simple as originally intended.

The host includes 15 kÎ© pull-down resistors on each data line. When no device is connected, this pulls both data lines low into the so-called "single-ended zero" state (SE0 in the USB documentation), and indicates a reset or disconnected connection.

A USB device pulls one of the data lines high with a 1.5 kÎ© resistor. This overpowers one of the pull-down resistors in the host and leaves the data lines in an idle state called "J". For USB 1.x, the choice of data line indicates of what signal rates the device is capable; full-bandwidth devices pull D+ high, while low-bandwidth devices pull Dâˆ’ high.

USB data is transmitted by toggling the data lines between the J state and the opposite K state. USB encodes data using the NRZI line coding; a 0 bit is transmitted by toggling the data lines from J to K or vice-versa, while a 1 bit is transmitted by leaving the data lines as-is. To ensure a minimum density of signal transitions remains in the bitstream, USB uses bit stuffing; an extra 0 bit is inserted into the data stream after any appearance of six consecutive 1 bits. Seven consecutive received 1 bits is always an error. USB 3.0 has introduced additional data transmission encodings.

A USB packet begins with an 8-bit synchronization sequence '00000001'. That is, after the initial idle state J, the data lines toggle KJKJKJKK. The final 1 bit (repeated K state) marks the end of the sync pattern and the beginning of the USB frame. For high bandwidth USB, the packet begins with a 32-bit synchronization sequence.

A USB packet's end, called EOP (end-of-packet), is indicated by the transmitter driving 2 bit times of SE0 (D+ and Dâˆ’ both below max) and 1 bit time of J state. After this, the transmitter ceases to drive the D+/Dâˆ’ lines and the aforementioned pull up resistors hold it in the J (idle) state. Sometimes skew due to hubs can add as much as one bit time before the SE0 of the end of packet. This extra bit can also result in a "bit stuff violation" if the six bits before it in the CRC are '1's. This bit should be ignored by receiver.

A USB bus is reset using a prolonged (10 to 20 milliseconds) SE0 signal.

USB 2.0 devices use a special protocol during reset, called "chirping", to negotiate the high bandwidth mode with the host/hub. A device that is HS capable first connects as an FS device (D+ pulled high), but upon receiving a USB RESET (both D+ and Dâˆ’ driven LOW by host for 10 to 20 ms) it pulls the Dâˆ’ line high, known as chirp K. This indicates to the host that the device is high bandwidth. If the host/hub is also HS capable, it chirps (returns alternating J and K states on Dâˆ’ and D+ lines) letting the device know that the hub operates at high bandwidth. The device has to receive at least three sets of KJ chirps before it changes to high bandwidth terminations and begins high bandwidth signaling. Because USB 3.0 uses wiring separate and additional to that used by USB 2.0 and USB 1.x, such bandwidth negotiation is not required.

Clock tolerance is 480.00 Mbit/s Â±500 ppm, 12.000 Mbit/s Â±2500 ppm, 1.50 Mbit/s Â±15000 ppm.

Though high bandwidth devices are commonly referred to as "USB 2.0" and advertised as "up to 480 Mbit/s", not all USB 2.0 devices are high bandwidth. The USB-IF certifies devices and provides licenses to use special marketing logos for either "basic bandwidth" (low and full) or high bandwidth after passing a compliance test and paying a licensing fee. All devices are tested according to the latest specification, so recently compliant low bandwidth devices are also 2.0 devices.

USB 3 uses tinned copper stranded AWG-28 cables with  impedance for its high-speed differential pairs and linear feedback shift register and 8b/10b encoding sent with a voltage of 1 V nominal with a 100 mV receiver threshold; the receiver uses equalization. SSC clock and  precision is used. Packet headers are protected with CRC-16, while data payload is protected with CRC-32.
Power up to  3.6 W may be used. One unit load in superspeed mode is equal to 150 mA.

== Transmission rates ==
The theoretical maximum data rate in USB 2.0 is 480 Mbit/s (60 MB/s) per controller and is shared amongst all attached devices. Some chipset manufacturers overcome this bottleneck by providing multiple USB 2.0 controllers within the southbridge.

Typical hi-speed USB hard drives can be written to at rates around 25â€“30 MB/s, and read from at rates of 30â€“42 MB/s, according to routine testing done by CNet. This is 70% of the total bandwidth available. Mask Tests, also known as Eye Diagram Tests, are used to determine the quality of a signal in the time domain. They are defined in the referenced document as part of the electrical test description for the high-speed (HS) mode at 480 Mbit/s.

According to a USB-IF chairman, "at least 10 to 15 percent of the stated peak 60 MB/s (480 Mbit/s) of Hi-Speed USB goes to overheadâ€”the communication protocol between the card and the peripheral. Overhead is a component of all connectivity standards". Tables illustrating the transfer limits are shown in Chapter 5 of the USB spec.

For isochronous devices like audio streams, the bandwidth is constant, and reserved exclusively for a given device. The bus bandwidth therefore only has an effect on the number of channels that can be sent at a time, not the "speed" or latency of the transmission.

== Latency ==
For USB1 low-speed  and full-speed  devices the shortest time for a transaction in one direction is   USB2 high-speed  uses transactions within each micro frame  where using 1-byte interrupt packet results in a minimal response time of  4-byte interrupt packet results in

== Communication ==
During USB communication data is transmitted as packets. Initially, all packets are sent from the host, via the root hub and possibly more hubs, to devices. Some of those packets direct a device to send some packets in reply.

After the sync field, all packets are made of 8-bit bytes, transmitted least-significant bit first. The first byte is a packet identifier (PID) byte. The PID is actually 4 bits; the byte consists of the 4-bit PID followed by its bitwise complement. This redundancy helps detect errors. (Note also that a PID byte contains at most four consecutive 1 bits, and thus never needs bit-stuffing, even when combined with the final 1 bit in the sync byte. However, trailing 1 bits in the PID may require bit-stuffing within the first few bits of the payload.)

Packets come in three basic types, each with a different format and CRC (cyclic redundancy check):

=== Handshake packets ===
Handshake packets consist of a PID byte, and are generally sent in response to data packets. The three basic types are ACK, indicating that data was successfully received, NAK, indicating that the data cannot be received and should be retried, and STALL, indicating that the device has an error condition and cannot transfer data until some corrective action (such as device initialization) occurs.

USB 2.0 added two additional handshake packets: NYET and ERR.  NYET indicates that a split transaction is not yet complete. A NYET packet also tells the host that the receiver has accepted a data packet, but cannot accept any more due to full buffers. The host then sends PING packets and continues with data packets once the device ACK's the PING. The ERR handshake indicates that a split transaction failed.

The only handshake packet the USB host may generate is ACK. If it is not ready to receive data, it should not instruct a device to send.

=== Token packets ===
Token packets consist of a PID byte followed by two payload bytes: 11 bits of address and a 5-bit CRC. Tokens are only sent by the host, never a device.

IN and OUT tokens contain a 7-bit device number and 4-bit function number (for multifunction devices) and command the device to transmit DATAx packets, or receive the following DATAx packets, respectively.

An IN token expects a response from a device. The response may be a NAK or STALL response, or a DATAx frame. In the latter case, the host issues an ACK handshake if appropriate.

An OUT token is followed immediately by a DATAx frame. The device responds with ACK, NAK, NYET, or STALL, as appropriate.

SETUP operates much like an OUT token, but is used for initial device setup. It is followed by an 8-byte DATA0 frame with a standardized format.

Every millisecond (12000 full-bandwidth bit times), the USB host transmits a special SOF (start of frame) token, containing an 11-bit incrementing frame number in place of a device address. This is used to synchronize isochronous and interrupt data transfers. High-bandwidth USB 2.0 devices receive 7 additional SOF tokens per frame, each introducing a 125 Âµs "microframe" (60000 high-bandwidth bit times each).

USB 2.0 added a PING token, which asks a device if it is ready to receive an OUT/DATA packet pair. The device responds with ACK, NAK, or STALL, as appropriate. This avoids the need to send the DATA packet if the device knows that it will just respond with NAK.

USB 2.0 also added a larger 3-byte SPLIT token with a 7-bit hub number, 12 bits of control flags, and a 5-bit CRC. This is used to perform split transactions. Rather than tie up the high-bandwidth USB bus sending data to a slower USB device, the nearest high-bandwidth capable hub receives a SPLIT token followed by one or two USB packets at high bandwidth, performs the data transfer at full or low bandwidth, and provides the response at high bandwidth when prompted by a second SPLIT token.

=== Data packets ===
A data packet consists of the PID followed by 0â€“1,023 bits of data payload (up to 1,024 in high bandwidth, at most 8 at low bandwidth), and a 16-bit CRC.

There are two basic forms of data packet, DATA0 and DATA1. A data packet must always be preceded by an address token, and is usually followed by a handshake token from the receiver back to the transmitter. The two packet types provide the 1-bit sequence number required by Stop-and-wait ARQ. If a USB host does not receive a response (such as an ACK) for data it has transmitted, it does not know if the data was received or not; the data might have been lost in transit, or it might have been received but the handshake response was lost.

To solve this problem, the device keeps track of the type of DATAx packet it last accepted. If it receives another DATAx packet of the same type, it is acknowledged but ignored as a duplicate. Only a DATAx packet of the opposite type is actually received.

If the data gets corrupted while being transmitted or received then the CRC check will fail. When this happens the receiver will not generate an ACK, which will in turn cause the sender to resend the packet.

When a device is reset with a SETUP packet, it expects an 8-byte DATA0 packet next.

USB 2.0 added DATA2 and MDATA packet types as well. They are used only by high-bandwidth devices doing high-bandwidth isochronous transfers that must transfer more than 1024 bits per 125 Âµs microframe (8,192 kB/s).

=== PRE packet ===
Low-bandwidth devices are supported with a special PID value, PRE. This marks the beginning of a low-bandwidth packet, and is used by hubs that normally do not send full-bandwidth packets to low-bandwidth devices. Since all PID bytes include four 0 bits, they leave the bus in the full-bandwidth K state, which is the same as the low-bandwidth J state. It is followed by a brief pause, during which hubs enable their low-bandwidth outputs, already idling in the J state. Then a low-bandwidth packet follows, beginning with a sync sequence and PID byte, and ending with a brief period of SE0. Full-bandwidth devices other than hubs can simply ignore the PRE packet and its low-bandwidth contents, until the final SE0 indicates that a new packet follows.

== Comparisons with other connection methods ==

=== FireWire ===
At first, USB was considered a complement to IEEE 1394 (FireWire) technology, which was designed as a high-bandwidth serial bus that efficiently interconnects peripherals such as disk drives, audio interfaces, and video equipment. In the initial design, USB operated at a far lower data rate and used less sophisticated hardware. It was suitable for small peripherals such as keyboards and pointing devices.

The most significant technical differences between FireWire and USB include:
* USB networks use a tiered-star topology, while IEEE 1394 networks use a tree topology.
* USB 1.0, 1.1 and 2.0 use a "speak-when-spoken-to" protocol; peripherals cannot communicate with the host unless the host specifically requests communication.  USB 3.0 allows for device-initiated communications towards the host. A FireWire device can communicate with any other node at any time, subject to network conditions.
* A USB network relies on a single host at the top of the tree to control the network. In a FireWire network, any capable node can control the network.
* USB runs with a 5 V power line, while FireWire in current implementations supplies 12 V and theoretically can supply up to 30 V.
* Standard USB hub ports can provide from the typical 500 mA/2.5 W of current, only 100 mA from non-hub ports. USB 3.0 and USB On-The-Go supply 1.8 A/9.0 W (for dedicated battery charging, 1.5 A/7.5 W Full bandwidth or 900 mA/4.5 W High Bandwidth), while FireWire can in theory supply up to 60 watts of power, although 10 to 20 watts is more typical.

These and other differences reflect the differing design goals of the two buses: USB was designed for simplicity and low cost, while FireWire was designed for high performance, particularly in time-sensitive applications such as audio and video. Although similar in theoretical maximum transfer rate, FireWire 400 is faster than USB 2.0 Hi-Bandwidth in real-use, especially in high-bandwidth use such as external hard-drives. The newer FireWire 800 standard is twice as fast as FireWire 400 and faster than USB 2.0 Hi-Bandwidth both theoretically and practically. The chipset and drivers used to implement USB and FireWire have a crucial impact on how much of the bandwidth prescribed by the specification is achieved in the real world, along with compatibility with peripherals.

=== Ethernet ===
The IEEE 802.3af Power over Ethernet (PoE) standard specifies a more elaborate power negotiation scheme than powered USB. It operates at 48 V DC and can supply more power (up to 12.95 W, PoE+ 25.5 W) over a cable up to 100 meters compared to USB 2.0, which provides 2.5 W with a maximum cable length of 5 meters. This has made PoE popular for VoIP telephones, security cameras, wireless access points and other networked devices within buildings. However, USB is cheaper than PoE provided that the distance is short, and power demand is low.

Ethernet standards require electrical isolation between the networked device (computer, phone, etc.) and the network cable up to  or  for 60 seconds. USB has no such requirement as it was designed for peripherals closely associated with a host computer, and in fact it connects the peripheral and host grounds. This gives Ethernet a significant safety advantage over USB with peripherals such as cable and DSL modems connected to external wiring that can assume hazardous voltages under certain fault conditions.

=== MIDI ===
Digital musical instruments are another example where USB is competitive in low-cost devices. However Power over Ethernet and the MIDI plug standard have an advantage in high-end devices that may have long cables. USB can cause ground loop problems between equipment, because it connects ground references on both transceivers. By contrast, the MIDI plug standard and Ethernet have built-in isolation to  or more.

=== eSATA/eSATAp ===
The eSATA connector is a more robust SATA connector, intended for connection to external hard drives and SSDs. eSATA's transfer rate (up to 6 Gbit/s) is similar to that of USB 3.0 (up to 5 Gbit/s on current devices; 10 Gbit/s speeds via USB 3.1, announced on July 31, 2013). A device connected by eSATA appears as an ordinary SATA device, giving both full performance and full compatibility associated with internal drives.

eSATA does not supply power to external devices. This is an increasing disadvantage compared to USB. Even though USB 3.0's 4.5 W is sometimes insufficient to power external hard drives, technology is advancing and external drives gradually need less power, diminishing the eSATA advantage. eSATAp (power over eSATA; aka ESATA/USB) is a connector introduced in 2009 that supplies power to attached devices using a new, backwards-compatible, connector.  On a notebook eSATAp usually supplies only 5 V to power a 2.5 in HDD/SSD; on a desktop workstation it can additionally supply 12 V to power larger devices including 3.5 in HDD/SSD and 5.25 in optical drives.

eSATAp support can be added to a desktop machine in the form of a bracket connecting to motherboard SATA, power, and USB resources.

eSATA, like USB, supports hot plugging, although this might be limited by OS drivers and device firmware.

=== Thunderbolt ===
Thunderbolt combines PCI Express and Mini DisplayPort into a new serial data interface. Current Thunderbolt implementations have two channels, each with a transfer speed of 10 Gbit/s, resulting in an aggregate unidirectional bandwidth of 20 Gbit/s.

=== Lightning ===
Apple's Lightning, introduced September 12, 2012, is currently used for the iPhone 5, iPhone 5C, iPhone 5S, iPod Touch (5th generation), iPod Nano (7th generation), iPad (4th generation), and iPad Mini. It is known to use USB 2.0 for signaling, in addition to many proprietary protocols.

== Interoperability ==

Various protocol converters that convert USB data signals to and from other communications standards.

== Related standards ==

The USB Implementers Forum is working on a wireless networking standard based on the USB protocol. Wireless USB is intended as a cable-replacement technology, and uses ultra-wideband wireless technology for data rates of up to 480 Mbit/s.

USB 2.0 High Speed Inter Chip (HSIC) is a chip-to-chip variant of USB 2.0 that eliminates the conventional analog transceivers found in normal USB. It was adopted as a standard by the USB Implementers Forum in 2007. The HSIC physical layer uses about 50% less power and 75% less board area compared to traditional USB 2.0. HSIC uses two signals at 1.2 V and has a throughput of 480 Mbit/s using 240 MHz DDR signaling. Maximum PCB trace length for HSIC is 10 cm. It does not have low enough latency to support RAM memory sharing between two chips.

== See also ==
* List of computer peripheral bus bit rates
* Linux LIO Unified Target (incl. Fibre Channel, FCoE, iEEE 1394, InfiniBand, iSCSI, USB)
* Extensible Host Controller Interface (XHCI)
* Easy Transfer Cable â€“ USB peer-to-peer transfer crossover bridge cable for Windows
* Thunderbolt
* Media Transfer Protocol
* Mobile High-Definition Link

== References ==

== Further reading ==
*  287â€¯pp.
*  380â€¯pp.
*  506â€¯pp.
*  510â€¯pp.
* .

== External links ==

* 
* 
* 
* 
* Muller, Henk. "How To Create And Program USB Devices," Electronic Design, July 2012.